<!--
 * @Author: qianqian.zhao
 * @Date: 2020-10-22 10:45:26
 * @LastEditors: qianqian.zhao
 * @LastEditTime: 2020-10-30 10:26:04
 * @Description: 项目问题记录
-->
哈喽云客项目
1. 在一个输入框内的任意位置随时插入标签，标签不可编辑，可删除；输入框内的元素可换行，像简单的富文本框
2. 企业微信的侧边栏可绑定h5页面，在以为同学的windows电脑上接口返回的response数据的data值会变成字符串，而且有拼接一串字符“my response to cli”，企业微信的侧边栏在windows上使用的是chrome浏览器，不知道是不是企业微信做了什么
  发现问题出现是因为项目使用了node做中端，node使用了proxy代理，其中监听了proxyRes，有一个地方返回了字符串“my response to cli”,所以拦截到莫名的字符串
3. 项目刷新时会出现一个请求undefined:1 GET http://localhost:8080/undefined 项目的大部分接口都是经过axios统一封装的；所以就在封装文件内增加打印日志，发现这个接口并没有走这个文件；那接下来就搜索项目还有什么地方直接调用axios进行了接口请求，其中也没包含这个接口；再搜索项目中有没有直接进行ajax请求的，只有一个接口进行了直接的ajax请求。也不是这个接口，所以目前暂时想不通是什么地方进行了莫名的接口请求
  发现问题出现的原因是：img标签的src属性值是请求后端返回的值，在返回前，该值为undefined，所以请求了一个undefined的接口，实际是请求图片。之前只想到了xml请求，忘记了静态资源的请求等
4. 路由的动态添加影响路由懒加载
  发现路由动态挂载影响路由懒加载的现象出现并不是说动态挂载真的会影响懒加载，而是因为，写法问题；
  ```javascript
  const com = import(/* webpackChunkName: "doc-[request]" */ '@/views' + path + '/index.vue')
  obj.component = () => com
  ```
  这样写，当执行到第一行时，就已经加载了，所以出现不了懒加载的效果；时机应该是函数内返回的；
5. 分环境打包参数配置
  原项目的做法都是修改配置文件，不同的打包命令，直接在执行打包后替换打包的文件的内部的地址；
  但是该项目使用了vuecli3，没有webpack的直接配置文件暴露；所以百度的方法有，可以直接在项目的根目录下新建en.[mode]文件，然后再vue.config.js内配置相应的命令，https://www.jb51.net/article/156478.htm
  https://www.cnblogs.com/XHappyness/p/9337229.html
  然后想能不能直接在node文件app.js内访问到项目的全局变量process.env内的变量，发现不可以，因为app.js是node项目，监听相应的接口而存在的；所以这个方式行不通；
  后面又想到既然app.js是用来进行接口监听的，然后进行跨域代理，那么接口可以直接传参进来告诉该文件，当前的环境，然后不同的环境分别代理到不同的地址维护一个配置问价就可以了；传参的时候可以传process.env相应的环境变量，这就可以根据打包啊命令来配置了；
  但是还是存在一个问题：app.js内有一个接口是直接作为客户端请求了后端接口然后做相关的事情的，所以并无相关环境变量的参数传入，而且也是app.js执行时该接口就执行的，也无法从其他接口的参数来得知相关的环境变量参数。所以该问题暂时还未解决；
  又想到一种方法：是否可以再vue.config.js文件内，配置在打包前将app.js的文件内容进行替换，然后进行打包；和原项目的做法类似

6. 上传图片到oss，是跨域的，使用cors解决跨域；
    测试环境可以正常的上传，但是生产环境会跨域，发现接口的请求头未自动带上跨域的一些参数，例如“origin”等
    原因是服务端未配置cors的跨域相关的

7. 路由的动态挂载会影响路由的懒加载
  加载组件的代码在还未挂载之前就已执行，代码文件此时就已加载，所以资源并没有懒加载，而是一次就全部加载