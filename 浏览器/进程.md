<!--
 * @Author: qianqian.zhao
 * @Date: 2020-05-26 11:26:35
 * @LastEditors: qianqian.zhao
 * @LastEditTime: 2020-11-24 16:33:07
 * @Description: chrome浏览器的进程分析
 -->

chrome浏览器是多进程协调合作的
* 进程的资源是相互独立的，系统会分配一块单独的内存给一个进程；
* 一个进程内可以有一个或多个线程，线程共享内存空间，可以相互协作；
* 进程是cpu资源分配的最小单位，也就是能拥有资源和独立运行的最小单位；
* 线程是cpu调度的最小单位，也就是线程是建立在进程的基础上的一次程序运行单元；
* 不同进程之间可以通信，只是代价比较大
不同tab页共享浏览器存储的规则？

chrome浏览器的进程分布：
* Browser 浏览器主进程
* Renderer 渲染进程（浏览器内核）、每个tab产生一个；同一tab下的跨站iframe可以使用单独的进程
* Plugin 第三方插件进程
* Gpu 3d渲染进程
多进程的优缺点：
优点: 
1. 单个进程出现问题不会影响其他进程，整体运行会更加稳定
2. 在系统层面可以西安的哥不同进程的权限
缺点:
1. 进程间的资源不共享，所以可能会需要存储相同的数据，造成内存空间的浪费
2. 

浏览器brower进程包含的线程：
* UI线程
* netWork线程: 处理网络请求，从网上获取数据
* storage线程：控制文件等的访问

浏览器渲染进程即render进程内包含很多线程：
* 主线程
* gui渲染线程
* js引擎线程，与gui渲染线程互斥，js引擎线程的执行会使gui线程挂起，遇到script标签，就会停止解析html，而去加载和执行js；但是如果script标签设置了； async或者defer睡醒，就可以异步加载执行js代码，不阻塞渲染
* 事件触发线程
* 定时器线程
* 异步请求线程

webworker线程是浏览器单开的线程，用于分担js引擎线程的大量计算工作；
js引擎线程与worker线程之间通过postmessage进行通信
sharedWorker是各render进程共享的一个进程


brower进程和浏览器内核进程的通信过程可以阅读浏览器内核的源码解析；

在单个进程内，线程共用内存空间；但是有些共享内存在一个线程使用时，其他的线程是不可以使用的；必须等待当前线程结束才可以使用该内存空间；
一个线程在使用时为了防止其他的线程使用，可以加锁，称为”互斥锁“，是为了防止多个线程同时共用一块内存空间

